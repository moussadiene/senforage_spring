<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
  layout:decorate="~{layout/template.html}">
<body>
	<div layout:fragment="content">
		<div class="app-title">
	        <div>
	          <h1><i class="fa  fa-user-md"> </i> CLIENT</h1>
	          <p>Liste des clients inscrit sur la plateforme sen-forage</p>
	        </div>
	        <ul class="app-breadcrumb breadcrumb side">
	          <li class="breadcrumb-item"><i class="fa fa-user-md fa-lg"></i></li>
	          <li class="breadcrumb-item">Clients</li>
	          <li class="breadcrumb-item active"><a href="#">Liste</a></li>
	        </ul>
      </div>
      <div class="row col-md-12 mb-3">
      	<button class="btn btn-primary" type="button"  data-toggle="modal" data-target="#ajouterClient"><i class="fa fa-plus-circle fa-lg "> </i>Ajouter un client</button>
      </div>
       <div id="ajouterClient" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none">
              <div class="modal-dialog"> 
                  <div class="modal-content model-lg"> 
                  <form th:action="@{/clients/add}" method="POST" th:object="${client}">
                      	<div class="modal-header"> 
                      	<h4 class="modal-title fa fa-user-md "> Nouveau Client</h4> 
                         <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                      </div> 
                      <div class="modal-body"> 
                           <div class="col-md-12"> 
                               <div class="form-group row"> 
                                   <label for="field-3" class="control-label col-md-3">Famille</label> 
                                   <input type="text" class="form-control col-md-9 " th:field="*{nomFamille}" id="field-3" placeholder="nom de famille"> 
                                   
                                </div> 
                                <div class="form-group row"> 
                                   <label for="field-3" class="control-label col-md-3">Adresse</label> 
                                   <input type="text" class="form-control col-md-9 " th:field="*{adresse}" id="field-3" placeholder="Adresse du client"> 
                                   
                                </div>
                                <div class="form-group row"> 
                                   <label for="field-3" class="control-label col-md-3">Telephone</label> 
                                   <input type="text" class="form-control col-md-9" th:field="*{telephone}" id="field-3" placeholder="Telephone du client"> 
                                   
                                </div> 
                                 <div class="form-group row"> 
                                   <label for="field-3" class="control-label col-md-3">Village</label>
                                   <select class="form-control col-md-9 " th:field="*{village}" id="field-3">
                                   		<option th:each="vi:${listeVillages}" th:value="${vi.id}" th:text="${vi.nomVillage}">
                                   </select>                                    
                                </div> 
                           </div> 
                      </div> 
                      <div class="modal-footer"> 
                          <button type="reset" class="btn btn-default waves-effect" data-dismiss="modal">Annuler</button> 
                          <button type="submit" class="btn btn-primary waves-effect waves-light">Envoyer</button> 
                      </div> 
                     </form>
                  </div> 
              </div>
          </div>
      <div class="row">
        <div class="col-md-12">
          <div class="tile ">
           
	         <div class="tile-body">
	              <table class="table table-hover table-bordered table-sm" id="sampleTable">
	                <thead>
	                  <tr>
	                    <th>NOM FAMILLE</th>
	                    <th>ADRESSE</th>
	                    <th>TELEPHONE</th>
	                    <th>VILLAGE</th>
	                     <th width="12%">action 1</th>
	                     <th width="12%">action 2</th>
	                  </tr>
	                </thead>
	                <tbody>
	               		<tr th:each="cli:${listeClients}">
	                         <td th:text="${cli.nomFamille}"></td>
	                         <td th:text="${cli.adresse}"></td>
	                         <td th:text="${cli.telephone}"></td>
	                         <td th:text="${cli.village.nomVillage}"></td>
	                         <td><a th:href="@{/clients/show(client=${cli.id})}" class="btn btn-info btn-sm"> <i class="fa fa-edit"></i>edit</a> </td>
	                         <td><a th:href="@{/clients/delete(client=${cli.id})}" class="btn btn-danger btn-sm"> <i class="fa fa-trash-o"></i>delete</a></td>
	                           
	                     </tr>
	                </tbody>
	              </table>
		        
	          </div>
        	</div>
		</div>           
      </div>
	</div>
	 <script src="/js/jquery-3.2.1.min.js"  th:src="@{/js/jquery-3.2.1.min.js}"></script>
    <script src="/js/popper.min.js" th:src="@{/js/popper.min.js}" ></script>
    <script src="/js/bootstrap.min.js" th:src="@{/js/bootstrap.min.js}"></script>
    <script src="/js/main.js" th:src="@{/js/main.js}"></script>
    <!-- The javascript plugin to display page loading on top-->
    <script src="/js/plugins/pace.min.js"  th:src="@{/js/plugins/pace.min.js}"></script>
    <!-- Page specific javascripts-->
    <!-- Data table plugin-->
    <script type="text/javascript" src="/js/plugins/jquery.dataTables.min.js"  th:src="@{/js/plugins/jquery.dataTables.min.js}"></script>
    <script type="text/javascript" src="/js/plugins/dataTables.bootstrap.min.js"  th:src="@{/js/plugins/dataTables.bootstrap.min.js}"></script>
    <script type="text/javascript">$('#sampleTable').DataTable();</script>
    <!-- Google analytics script-->
    
    
    <script type="text/javascript">
    
      if(document.location.hostname == 'pratikborsadiya.in') {
      	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      	ga('create', 'UA-72504830-1', 'auto');
      	ga('send', 'pageview');
      }
    </script>
</body>
</html>